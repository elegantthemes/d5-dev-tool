/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var l=o.apply(null,n);l&&e.push(l)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=divi.data,t=vendor.React;var i=n.n(t);const o=lodash,r=vendor.wp.i18n,l=divi.modal,a=divi.moduleLibrary,s=divi.errorBoundary;var d=function(e){var t=e.children;return i().createElement("div",{className:"d5-dev-tool-content-panel"},t)},c=function(e){var n,o,r=e.children,l=(0,t.useState)(null===(o=null===(n=r[0])||void 0===n?void 0:n.props)||void 0===o?void 0:o.id),a=l[0],s=l[1];return i().createElement("div",{className:"d5-dev-tool-content-panel-wrapper"},i().createElement("div",{className:"d5-dev-tool-content-panel-wrapper-nav"},t.Children.map(r,(function(e){var n,o,r;return(0,t.isValidElement)(e)?i().createElement("button",{"data-id":null===(n=null==e?void 0:e.props)||void 0===n?void 0:n.id,className:(null===(o=null==e?void 0:e.props)||void 0===o?void 0:o.id)===a?"active":null,onClick:function(e){e.preventDefault(),s(e.currentTarget.getAttribute("data-id"))}},null===(r=null==e?void 0:e.props)||void 0===r?void 0:r.label):null}))),i().createElement("div",{className:"d5-dev-tool-content-panels"},t.Children.map(r,(function(e){return(0,t.isValidElement)(e)&&e.props.id===a?e:null}))))},u=n(184),h=n.n(u);const v=divi.objectRenderer;var m=function(e,t,n){return void 0===n&&(n=""),e?i().createElement("span",{className:"d5-dev-tool-module--state-".concat(t)},t,n):null},p=function(e){var t=e.activeModalSetting,n=e.draggedModules,r=e.expandedModuleIds,l=e.hoveredModule,a=e.lastModuleClipboard,s=e.modules,d=e.root,c=e.rightClickedModuleId,u=e.selectedModules,p=e.setExpandedModuleIds,g=function(e){var d,f,M,b=e.module,y=(0,o.get)(l,"id")===(null==b?void 0:b.id),E=m(y,"hovered"),x=(0,o.includes)(u,null==b?void 0:b.id),_=m(x,"selected"),S=(0,o.includes)(n,null==b?void 0:b.id),k=m(S,"dragged"),w=c===(null==b?void 0:b.id),N=m(w,"right-clicked"),C=(0,o.get)(a,["id"])===(null==b?void 0:b.id),I=m(C,"on-clipboard"),L=(null==b?void 0:b.id)===t,A=m(L,"edited"),O=null===(f=null===(d=null==b?void 0:b.props)||void 0===d?void 0:d.attrs)||void 0===f?void 0:f.globalModule,$=(0,o.isString)(O)&&""!==O,j=m($,"global","- ".concat(O)),F=(0,o.includes)(r,null==b?void 0:b.id),R=F?i().createElement("div",{className:"d5-dev-tool-module-props"},i().createElement(v.ObjectRenderer,{values:b})):null;return i().createElement("div",{className:h()({"d5-dev-tool-module":!0,"d5-dev-tool-module--hovered":y,"d5-dev-tool-module--selected":x,"d5-dev-tool-module--dragged":S,"d5-dev-tool-module--right-clicked":w,"d5-dev-tool-module--on-clipboard":C,"d5-dev-tool-module--edited":L})},i().createElement("div",{className:"d5-dev-tool-module-meta"},i().createElement("span",{className:"d5-dev-tool-module--name"},null==b?void 0:b.name),i().createElement("span",{className:"d5-dev-tool-module--id",role:"button",tabIndex:0,onKeyPress:o.noop,onClick:function(){var e=F?(0,o.without)(r,null==b?void 0:b.id):[].concat(r).concat(null==b?void 0:b.id);p(e)}},null==b?void 0:b.id),i().createElement("div",{className:"d5-dev-tool-module-state"},j,_,k,N,I,A,E)),R,i().createElement("div",{className:"d5-dev-tool-module--children"},(0,o.isEmpty)(null==b?void 0:b.children)?null:null===(M=null==b?void 0:b.children)||void 0===M?void 0:M.map((function(e){return i().createElement(g,{key:"d5-dev-tool-module-".concat(e),module:s[e]})}))))};return i().createElement(g,{module:d})},g=(0,e.withSelect)((function(t){var n=t("divi/edit-post"),i=t("divi/events"),r=t("divi/right-click-options"),l=t("divi/modal-library"),a=l.getActiveModal("multi"),s=(0,o.get)(a,["divi/divi-5-dev-tool","attributes","expandedModuleIds"]),d=l.getActiveModal("single"),c=function(e){return(0,o.map)(e,(function(e){return null==e?void 0:e.id}))},u=r.getState(),h=u.active?(0,o.get)(u,["owner","id"]):"",v=n.getContent();return{activeModalSetting:"divi/module"===(null==d?void 0:d.name)&&(null==d?void 0:d.owner),draggedModules:c(i.getDraggedModules().asMutable({deep:!0})),expandedModuleIds:s,hoveredModule:i.getHoveredModule(),lastModuleClipboard:{},modules:v,rightClickedModuleId:h,selectedModules:c(i.getSelectedModules(!1)),setExpandedModuleIds:function(t){(0,e.dispatch)("divi/modal-library").setAttributes({name:"divi/divi-5-dev-tool",attributes:{expandedModuleIds:t}})}}}))((function(e){var t=e.activeModalSetting,n=e.draggedModules,o=e.expandedModuleIds,r=e.hoveredModule,l=e.lastModuleClipboard,a=e.modules,s=e.rightClickedModuleId,d=e.selectedModules,c=e.setExpandedModuleIds;return i().createElement(p,{activeModalSetting:t,draggedModules:n,expandedModuleIds:o,hoveredModule:r,lastModuleClipboard:l,modules:a,root:a.root,rightClickedModuleId:s,selectedModules:d,setExpandedModuleIds:c})})),f=(0,e.withSelect)((function(e){return{serializedLayout:e("divi/serialized-post").getState(["postContent","content"])}}))((function(e){var t=e.serializedLayout;return i().createElement("pre",null,t)})),M=(0,e.withSelect)((function(e){return{scripts:e("divi/module").getScripts()}}))((function(e){var t=e.scripts,n=[];return(0,o.forEach)(t,(function(e,t){var o,l=i().createElement("div",{key:"dev-tool-script-".concat(t),className:"d5-dev-tool-script"},i().createElement("h2",{className:"d5-dev-tool-script-heading"},t),(null===(o=Object.keys(e))||void 0===o?void 0:o.length)?i().createElement(v.ObjectRenderer,{values:e}):i().createElement("div",{className:"d5-dev-tool-no-items"},(0,r.sprintf)((0,r.__)("No %s found","divi-5-dev-tool"),t)));n.push(l)})),i().createElement("div",null,n)})),b=(0,e.withSelect)((function(e){var t,n=e("divi/events");return{attributeState:e("divi/app-ui").getAttributeState(),breakpoint:e("divi/app-ui").getBreakpoint(),selectedModules:(t=n.getSelectedModules(!1),(0,o.map)(t,(function(e){return null==e?void 0:e.id}))),view:e("divi/app-ui").getView()}}))((function(e){var t=e.view,n=e.breakpoint,o=e.attributeState,r=e.selectedModules;return i().createElement("div",{className:h()({"d5-dev-tool-overview":!0})},i().createElement("div",{className:"d5-dev-tool-overview-view"},i().createElement("h3",null,"View"),i().createElement("div",{className:"d5-dev-tool-overview-value"},t)),i().createElement("div",{className:"d5-dev-tool-overview-breakpoint"},i().createElement("h3",null,"Breakpoint"),i().createElement("div",{className:"d5-dev-tool-overview-value"},n)),i().createElement("div",{className:"d5-dev-tool-overview-attribute-state"},i().createElement("h3",null,"Attribute State"),i().createElement("div",{className:"d5-dev-tool-overview-value"},o)),i().createElement("div",{className:"d5-dev-tool-overview-selected"},i().createElement("h3",null,"Selected"),i().createElement("div",{className:"d5-dev-tool-overview-value"},r.length,r.length>1?" Modules":" Module")))})),y=(0,e.withSelect)((function(e){return{pressedKeys:e("divi/keyboard-shortcuts").getPressedKeys(),currentShortcut:e("divi/keyboard-shortcuts").getCurrentShortcut()}}))((function(e){var t=e.currentShortcut,n=e.pressedKeys;return i().createElement("div",{className:h()({"d5-dev-tool-overview":!0})},i().createElement("div",{className:"d5-dev-tool-overview-keypress"},i().createElement("h3",null,"Keypress"),i().createElement("div",{className:"d5-dev-tool-overview-value"},(0,o.map)(n,(function(e){return i().createElement("kbd",{key:"d5-dev-tool-overview-key-".concat(e)},e)})))),i().createElement("div",{className:"d5-dev-tool-overview-shortcut"},i().createElement("h3",null,"Shortcuts"),i().createElement("div",{className:"d5-dev-tool-overview-value"},i().createElement("pre",null,null==t?void 0:t.name))))})),E=function(){return E=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},x=(0,e.withSelect)((function(t){var n=t("divi/edit-post"),i=t("divi/events"),r=t("divi/right-click-options"),l=t("divi/modal-library"),a=l.getActiveModal("multi"),s=(0,o.get)(a,["divi/divi-5-dev-tool","attributes","expandedModuleIds"]),d=l.getActiveModal("single"),c=function(e){return(0,o.map)(e,(function(e){return null==e?void 0:e.id}))},u=r.getState(),h=u.active?(0,o.get)(u,["owner","id"]):"",v=n.getContent();return{globalModules:Array.from(new Set(Object.entries(v).filter((function(e){var t,n,i,o=null===(i=null===(n=null===(t=e[1])||void 0===t?void 0:t.props)||void 0===n?void 0:n.attrs)||void 0===i?void 0:i.globalModule;return"string"==typeof o&&""!==o})).map((function(e){var t,n,i;return null===(i=null===(n=null===(t=e[1])||void 0===t?void 0:t.props)||void 0===n?void 0:n.attrs)||void 0===i?void 0:i.globalModule})))).map((function(e){var n=t("divi/global-layouts").getLayout(e);return E({id:e},n)})),activeModalSetting:"divi/module"===(null==d?void 0:d.name)&&(null==d?void 0:d.owner),draggedModules:c(i.getDraggedModules().asMutable({deep:!0})),expandedModuleIds:s,hoveredModule:i.getHoveredModule(),lastModuleClipboard:{},modules:v,rightClickedModuleId:h,selectedModules:c(i.getSelectedModules(!1)),setExpandedModuleIds:function(t){(0,e.dispatch)("divi/modal-library").setAttributes({name:"divi/divi-5-dev-tool",attributes:{expandedModuleIds:t}})}}}))((function(e){var t=e.activeModalSetting,n=e.draggedModules,o=e.expandedModuleIds,l=e.hoveredModule,a=e.lastModuleClipboard,s=e.modules,d=e.rightClickedModuleId,c=e.selectedModules,u=e.setExpandedModuleIds,h=e.globalModules;return(null==h?void 0:h.length)?h.map((function(e){var r;return i().createElement("div",{key:"global-module-item-".concat(null==e?void 0:e.id),className:"d5-dev-tool-global-module-item"},i().createElement("h3",null,"id: ",null==e?void 0:e.id),i().createElement(p,{activeModalSetting:t,draggedModules:n,expandedModuleIds:o,hoveredModule:l,lastModuleClipboard:a,modules:s,root:null===(r=null==e?void 0:e.content)||void 0===r?void 0:r.root,rightClickedModuleId:d,selectedModules:c,setExpandedModuleIds:u}))})):i().createElement("div",{className:"d5-dev-tool-no-items"},(0,r.__)("No global data found","divi-5-dev-tool"))})),_=function(e){var n=e.name,r=e.values;return i().createElement("div",{className:"d5-dev-tool-clipboard-item-payload-item"},i().createElement("span",{className:"d5-dev-tool-clipboard-item-payload-item-title"},n),i().createElement("span",{className:"d5-dev-tool-clipboard-item-payload-item-value"},(0,o.isArray)(r)||(0,o.isObject)(r)?(0,t.createElement)(v.ObjectRenderer,{values:r}):r))},S=function(e){var t=e.clipboardType,n=e.origin,r=e.payload,l=e.itemIndex;return i().createElement("div",{className:"d5-dev-tool-clipboard-item"},i().createElement("div",{className:"d5-dev-tool-clipboard-item-type d5-dev-tool-clipboard-item-type--".concat(t)},t),i().createElement("div",{className:"d5-dev-tool-clipboard-item-index"},"#".concat(l)),i().createElement("div",{className:"d5-dev-tool-clipboard-item-origin"},n),i().createElement("div",{className:"d5-dev-tool-clipboard-item-payload"},(0,o.keys)(r).map((function(e){return i().createElement(_,{name:e,values:r[e],key:"d5-dev-tool-clipboard-item-payload--".concat(e)})}))))},k=(0,e.withSelect)((function(e){return{clipboardItems:e("divi/clipboard").getItems()}}))((function(e){var n=e.clipboardItems;return(null==n?void 0:n.length)?i().createElement("div",{className:"d5-dev-tool-clipboard-items"},(0,o.map)(n,(function(e,n){return(0,t.createElement)(S,{clipboardType:e.clipboardType,origin:e.origin,payload:e.payload,key:"d5-dev-tool-clipboard-item--".concat(n),itemIndex:n})}))):i().createElement("div",{className:"d5-dev-tool-no-items"},(0,r.__)("No clipboard found","divi-5-dev-tool"))}));function w(e){return Array.isArray?Array.isArray(e):"[object Array]"===O(e)}function N(e){return"string"==typeof e}function C(e){return"number"==typeof e}function I(e){return"object"==typeof e}function L(e){return null!=e}function A(e){return!e.trim().length}function O(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const $=e=>`Missing ${e} property in key`,j=e=>`Property 'weight' in key '${e}' must be a positive integer`,F=Object.prototype.hasOwnProperty;class R{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=P(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function P(e){let t=null,n=null,i=null,o=1,r=null;if(N(e)||w(e))i=e,t=W(e),n=K(e);else{if(!F.call(e,"name"))throw new Error($("name"));const l=e.name;if(i=l,F.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(j(l));t=W(l),n=K(l),r=e.getFn}return{path:t,id:n,weight:o,src:i,getFn:r}}function W(e){return w(e)?e:e.split(".")}function K(e){return w(e)?e.join("."):e}var D={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const o=(e,t,r)=>{if(L(e))if(t[r]){const l=e[t[r]];if(!L(l))return;if(r===t.length-1&&(N(l)||C(l)||function(e){return!0===e||!1===e||function(e){return I(e)&&null!==e}(e)&&"[object Boolean]"==O(e)}(l)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(l));else if(w(l)){i=!0;for(let e=0,n=l.length;e<n;e+=1)o(l[e],t,r+1)}else t.length&&o(l,t,r+1)}else n.push(e)};return o(e,N(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const z=/[^ ]+/g;class B{constructor({getFn:e=D.getFn,fieldNormWeight:t=D.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const o=t.match(z).length;if(n.has(o))return n.get(o);const r=1/Math.pow(o,.5*e),l=parseFloat(Math.round(r*i)/i);return n.set(o,l),l},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,N(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();N(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!L(e)||A(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(L(o))if(w(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(L(i))if(N(i)&&!A(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else w(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(N(o)&&!A(o)){let e={v:o,n:this.norm.get(o)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function T(e,t,{getFn:n=D.getFn,fieldNormWeight:i=D.fieldNormWeight}={}){const o=new B({getFn:n,fieldNormWeight:i});return o.setKeys(e.map(P)),o.setSources(t),o.create(),o}function V(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:o=D.distance,ignoreLocation:r=D.ignoreLocation}={}){const l=t/e.length;if(r)return l;const a=Math.abs(i-n);return o?l+a/o:a?1:l}const J=32;function q(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<i-n-1}return t}class H{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:i=D.distance,includeMatches:o=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:l=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:s=D.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:s},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(e,t)=>{this.chunks.push({pattern:e,alphabet:q(e),startIndex:t})},c=this.pattern.length;if(c>J){let e=0;const t=c%J,n=c-t;for(;e<n;)d(this.pattern.substr(e,J),e),e+=J;if(t){const e=c-J;d(this.pattern.substr(e),e)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:o,threshold:r,findAllMatches:l,minMatchCharLength:a,ignoreLocation:s}=this.options;let d=[],c=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:v})=>{const{isMatch:m,score:p,indices:g}=function(e,t,n,{location:i=D.location,distance:o=D.distance,threshold:r=D.threshold,findAllMatches:l=D.findAllMatches,minMatchCharLength:a=D.minMatchCharLength,includeMatches:s=D.includeMatches,ignoreLocation:d=D.ignoreLocation}={}){if(t.length>J)throw new Error("Pattern length exceeds max of 32.");const c=t.length,u=e.length,h=Math.max(0,Math.min(i,u));let v=r,m=h;const p=a>1||s,g=p?Array(u):[];let f;for(;(f=e.indexOf(t,m))>-1;){let e=V(t,{currentLocation:f,expectedLocation:h,distance:o,ignoreLocation:d});if(v=Math.min(e,v),m=f+c,p){let e=0;for(;e<c;)g[f+e]=1,e+=1}}m=-1;let M=[],b=1,y=c+u;const E=1<<c-1;for(let i=0;i<c;i+=1){let r=0,a=y;for(;r<a;)V(t,{errors:i,currentLocation:h+a,expectedLocation:h,distance:o,ignoreLocation:d})<=v?r=a:y=a,a=Math.floor((y-r)/2+r);y=a;let s=Math.max(1,h-a+1),f=l?u:Math.min(h+a,u)+c,x=Array(f+2);x[f+1]=(1<<i)-1;for(let r=f;r>=s;r-=1){let l=r-1,a=n[e.charAt(l)];if(p&&(g[l]=+!!a),x[r]=(x[r+1]<<1|1)&a,i&&(x[r]|=(M[r+1]|M[r])<<1|1|M[r+1]),x[r]&E&&(b=V(t,{errors:i,currentLocation:l,expectedLocation:h,distance:o,ignoreLocation:d}),b<=v)){if(v=b,m=l,m<=h)break;s=Math.max(1,2*h-m)}}if(V(t,{errors:i+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:d})>v)break;M=x}const x={isMatch:m>=0,score:Math.max(.001,b)};if(p){const e=function(e=[],t=D.minMatchCharLength){let n=[],i=-1,o=-1,r=0;for(let l=e.length;r<l;r+=1){let l=e[r];l&&-1===i?i=r:l||-1===i||(o=r-1,o-i+1>=t&&n.push([i,o]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(g,a);e.length?s&&(x.indices=e):x.isMatch=!1}return x}(e,t,h,{location:i+v,distance:o,threshold:r,findAllMatches:l,minMatchCharLength:a,includeMatches:n,ignoreLocation:s});m&&(u=!0),c+=p,m&&g&&(d=[...d,...g])}));let h={isMatch:u,score:u?c/this.chunks.length:1};return u&&n&&(h.indices=d),h}}class G{constructor(e){this.pattern=e}static isMultiMatch(e){return Q(e,this.multiRegex)}static isSingleMatch(e){return Q(e,this.singleRegex)}search(){}}function Q(e,t){const n=e.match(t);return n?n[1]:null}class Y extends G{constructor(e,{location:t=D.location,threshold:n=D.threshold,distance:i=D.distance,includeMatches:o=D.includeMatches,findAllMatches:r=D.findAllMatches,minMatchCharLength:l=D.minMatchCharLength,isCaseSensitive:a=D.isCaseSensitive,ignoreLocation:s=D.ignoreLocation}={}){super(e),this._bitapSearch=new H(e,{location:t,threshold:n,distance:i,includeMatches:o,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:a,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class U extends G{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const X=[class extends G{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},U,class extends G{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends G{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends G{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends G{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends G{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Y],Z=X.length,ee=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,te=new Set([Y.type,U.type]);const ne=[];function ie(e,t){for(let n=0,i=ne.length;n<i;n+=1){let i=ne[n];if(i.condition(e,t))return new i(e,t)}return new H(e,t)}const oe="$and",re="$path",le=e=>!(!e[oe]&&!e.$or),ae=e=>({[oe]:Object.keys(e).map((t=>({[t]:e[t]})))});function se(e,t,{auto:n=!0}={}){const i=e=>{let o=Object.keys(e);const r=(e=>!!e[re])(e);if(!r&&o.length>1&&!le(e))return i(ae(e));if((e=>!w(e)&&I(e)&&!le(e))(e)){const i=r?e[re]:o[0],l=r?e.$val:e[i];if(!N(l))throw new Error((e=>`Invalid value for key ${e}`)(i));const a={keyId:K(i),pattern:l};return n&&(a.searcher=ie(l,t)),a}let l={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];w(n)&&n.forEach((e=>{l.children.push(i(e))}))})),l};return le(e)||(e=ae(e)),i(e)}function de(e,t){const n=e.matches;t.matches=[],L(n)&&n.forEach((e=>{if(!L(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let o={indices:n,value:i};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function ce(e,t){t.score=e.score}class ue{constructor(e,t={},n){this.options={...D,...t},this.options.useExtendedSearch,this._keyStore=new R(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof B))throw new Error("Incorrect 'index' type");this._myIndex=t||T(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){L(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:r,ignoreFieldNorm:l}=this.options;let a=N(e)?N(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=D.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:o})=>{const r=e?e.weight:null;n*=Math.pow(0===o&&r?Number.EPSILON:o,(r||1)*(t?1:i))})),e.score=n}))}(a,{ignoreFieldNorm:l}),o&&a.sort(r),C(t)&&t>-1&&(a=a.slice(0,t)),function(e,t,{includeMatches:n=D.includeMatches,includeScore:i=D.includeScore}={}){const o=[];return n&&o.push(de),i&&o.push(ce),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,i)})),i}))}(a,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ie(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:o})=>{if(!L(e))return;const{isMatch:r,score:l,indices:a}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:l,value:e,norm:o,indices:a}]})})),i}_searchLogical(e){const t=se(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:o}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const o=[];for(let r=0,l=e.children.length;r<l;r+=1){const l=e.children[r],a=n(l,t,i);if(a.length)o.push(...a);else if(e.operator===oe)return[]}return o},i=this._myIndex.records,o={},r=[];return i.forEach((({$:e,i})=>{if(L(e)){let l=n(t,e,i);l.length&&(o[i]||(o[i]={idx:i,item:e,matches:[]},r.push(o[i])),l.forEach((({matches:e})=>{o[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ie(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach((({$:e,i})=>{if(!L(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&o.push({idx:i,item:e,matches:r})})),o}_findMatches({key:e,value:t,searcher:n}){if(!L(t))return[];let i=[];if(w(t))t.forEach((({v:t,i:o,n:r})=>{if(!L(t))return;const{isMatch:l,score:a,indices:s}=n.searchIn(t);l&&i.push({score:a,key:e,value:t,idx:o,norm:r,indices:s})}));else{const{v:o,n:r}=t,{isMatch:l,score:a,indices:s}=n.searchIn(o);l&&i.push({score:a,key:e,value:o,norm:r,indices:s})}return i}}ue.version="6.6.2",ue.createIndex=T,ue.parseIndex=function(e,{getFn:t=D.getFn,fieldNormWeight:n=D.fieldNormWeight}={}){const{keys:i,records:o}=e,r=new B({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(o),r},ue.config=D,ue.parseQuery=se,function(...e){ne.push(...e)}(class{constructor(e,{isCaseSensitive:t=D.isCaseSensitive,includeMatches:n=D.includeMatches,minMatchCharLength:i=D.minMatchCharLength,ignoreLocation:o=D.ignoreLocation,findAllMatches:r=D.findAllMatches,location:l=D.location,threshold:a=D.threshold,distance:s=D.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:o,location:l,threshold:a,distance:s},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(ee).filter((e=>e&&!!e.trim())),i=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let r=!1,l=-1;for(;!r&&++l<Z;){const e=X[l];let n=e.isMultiMatch(o);n&&(i.push(new e(n,t)),r=!0)}if(!r)for(l=-1;++l<Z;){const e=X[l];let n=e.isSingleMatch(o);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,r=[],l=0;for(let i=0,a=t.length;i<a;i+=1){const a=t[i];r.length=0,o=0;for(let t=0,i=a.length;t<i;t+=1){const i=a[t],{isMatch:s,indices:d,score:c}=i.search(e);if(!s){l=0,o=0,r.length=0;break}if(o+=1,l+=c,n){const e=i.constructor.type;te.has(e)?r=[...r,...d]:r.push(d)}}if(o){let e={isMatch:!0,score:l/o};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}});var he=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},ve=function(e){var n=e.data,r=(0,t.useState)([]),l=r[0],a=r[1],s=(0,t.useState)(""),d=s[0],c=s[1],u=(0,t.useState)(n),h=u[0],v=u[1];(0,t.useEffect)((function(){if(""===d.trim())return v(n),void a([]);var e=(0,o.toPairs)(n).flatMap((function(e){var t=e[0];return e[1].map((function(e){return{packageName:t,member:e}}))})),t=new ue(e,{keys:["member"],threshold:.2}).search(d).reduce((function(e,t){var n=t.item,i=n.packageName,o=n.member;return e[i]||(e[i]=[]),e[i].push(o),e}),{});a((0,o.keys)(t)),v(t)}),[d,n]);var m=function(e,t){var n="https://devalpha.elegantthemes.com/docs/builder-api/js",i=(0,o.kebabCase)(t),r=(0,o.kebabCase)(e);return i===r?"".concat(n,"/").concat(r):"".concat(n,"/").concat(r,"/").concat(i)};return i().createElement("div",{className:"et-vb-divi-devtools-tree-view"},i().createElement("input",{type:"text",placeholder:"Search...",className:"et-vb-divi-devtools-tree-view-search-input",value:d,onChange:function(e){return c(e.target.value)}}),i().createElement("div",{className:"et-vb-divi-devtools-tree-view-warning"},"Some functions lack documentation; we're addressing this."),(0,o.map)((0,o.keys)(h).sort(),(function(e){return i().createElement("div",{key:e,className:"et-vb-divi-devtools-tree-view-item"},i().createElement("div",{onClick:function(){return t=e,void a((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):he(he([],e,!0),[t],!1)}));var t},className:"et-vb-divi-devtools-tree-view-item-title"},e),l.includes(e)&&i().createElement("ul",{className:"et-vb-divi-devtools-tree-view-item-list"},(0,o.map)(h[e].sort(),(function(t,n){return i().createElement("li",{key:n},i().createElement("a",{href:m(e,t),target:"_blank"},t))}))))})))};const me=divi.fieldLibrary;var pe=function(e){return JSON.stringify(e,null,2)},ge=(0,e.withSelect)((function(e){var t,n;return{modules:null===(n=null===(t=e("divi/module-library"))||void 0===t?void 0:t.getModules())||void 0===n?void 0:n.asMutable({deep:!0})}}))((function(e){var n=e.modules,l="divi/cta",s=(0,t.useState)(l),d=s[0],c=s[1],u=(0,t.useState)(pe(null==n?void 0:n[l])),h=u[0],v=u[1],m=(0,t.useState)({}),p=m[0],g=m[1],f={};return(0,o.forEach)(n,(function(e,t){f[t]={label:t,name:t}})),i().createElement("div",{className:"tool-generate-module-settings-configuration"},i().createElement("blockquote",{className:"info"},i().createElement("p",null,(0,r.__)('Select a module to copy its metadata into textarea below it. You can edit the metadata value if it does not generate expected module settings configuration yet. Once the metadata looks ok, you can click the "Convert into Module Settings Configuration" button to convert the metadata into module settings configuration.'))),i().createElement("p",{className:"field-label"},(0,r.__)("Select module","divi-5-dev-tool")),i().createElement("div",{className:"select-module-wrapper"},i().createElement(me.SelectContainer,{options:f,value:d,onChange:function(e){var t=null==e?void 0:e.inputValue;d!==t&&g({}),c(t),v(pe(null==n?void 0:n[t]))}})),i().createElement("div",{className:"edit-metadata-wrapper"},i().createElement("p",{className:"field-label"},(0,r.__)("Module metadata (editable)","divi-5-dev-tool")),i().createElement("textarea",{value:h,onChange:function(e){var t;v(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)}})),i().createElement("div",{className:"convert-metadata-into-module-settings-configuration"},i().createElement("button",{className:"convert-button",onClick:function(e){e.preventDefault();var t=(0,a.generateModuleSettingsConfiguration)(JSON.parse(h));g(t)}},(0,r.__)("Convert Into Module Settings Configuration ↓","divi-5-dev-tool"))),i().createElement("pre",{className:"module-settings-configuration"},pe(p)))})),fe="divi/divi-5-dev-tool";window.top!==window&&(window.top.jQuery("#wp-admin-bar-divi-5-dev-tool > a").on("click",(function(t){t.preventDefault(),(0,e.dispatch)("divi/modal-library").open({name:fe})})),(0,e.dispatch)("divi/modal-library").addModal({name:fe,type:"multi",component:function(e){var t=e.name,n=e.tab,u=(0,o.reduce)(null===window||void 0===window?void 0:window.divi,(function(e,t,n){return(0,o.isEmpty)(t)||(e[n]=(0,o.keys)(t)),e}),{});return i().createElement(s.ErrorBoundary,{key:"et-vb-divi-modals--dev-tool",componentName:"et-vb-divi-modals--dev-tool"},i().createElement(l.WrapperContainer,{draggable:!0,resizable:!0,expandable:!0,snappable:!0,modalName:t,modalActiveTab:n||"states",multiPanels:!1},i().createElement(l.Header,{name:(0,r.__)("Divi 5 Dev Tool","et_builder")}),i().createElement(l.BodyPanelWrapperContainer,null,i().createElement(l.PanelContainer,{id:"states",label:(0,r.__)("States","et_builder")},i().createElement("div",{style:{padding:"20px 20px 40px 20px"}},i().createElement(c,null,i().createElement(d,{id:"layout",label:(0,r.__)("Layout","et_builder")},i().createElement(g,null)),i().createElement(d,{id:"saved",label:(0,r.__)("Saved Content","et_builder")},i().createElement(f,null)),i().createElement(d,{id:"scripts",label:(0,r.__)("Scripts","et_builder")},i().createElement(M,null)),i().createElement(d,{id:"global",label:(0,r.__)("Global","et_builder")},i().createElement(x,null)),i().createElement(d,{id:"app-state",label:(0,r.__)("App State","et_builder")},i().createElement(b,null)),i().createElement(d,{id:"keyboard",label:(0,r.__)("Keyboard","et_builder")},i().createElement(y,null)),i().createElement(d,{id:"clipboard",label:(0,r.__)("Clipboard","et_builder")},i().createElement(k,null))))),i().createElement(l.PanelContainer,{id:"tools",label:(0,r.__)("Tools","et_builder")},i().createElement("div",{style:{padding:"20px"}},i().createElement(c,null,i().createElement(d,{id:"generate-module-settings-config",label:(0,r.__)("Generate Module Settings Configuration","et_builder")},a.generateModuleSettingsConfiguration?i().createElement(ge,null):(0,r.__)("You need to use at least Divi 5 Dev Beta 4 for this tool to work")),i().createElement(d,{id:"module-metadata",label:(0,r.__)("Module Metadata","et_builder")},"Coming Soon")))),i().createElement(l.PanelContainer,{id:"references",label:(0,r.__)("References","et_builder")},i().createElement("div",{style:{padding:"20px"}},i().createElement(c,null,i().createElement(d,{id:"packages",label:(0,r.__)("Packages","et_builder")},i().createElement(ve,{data:u})),i().createElement(d,{id:"data-stores",label:(0,r.__)("Data Stores","et_builder")},"Coming Soon"),i().createElement(d,{id:"filters",label:(0,r.__)("Filters","et_builder")},"Coming Soon"),i().createElement(d,{id:"actions",label:(0,r.__)("Actions","et_builder")},"Coming Soon")))))))}}))})()})();